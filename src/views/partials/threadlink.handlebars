{{! threadlink.handlebars
    Partial for rendering thread information in a list (e.g. in the forum homepage)

    @param author     - The author of the thread
    @param content    - The content of the comment, written in Markdown
    @param vote_count - The current vote count / score of the comment
    @param created    - The Date representing when the comment was posted
    @param games      - An array of strings representing the game tags for the post
    @param tags       - An array of strings representing other tags for the post
    @param title      - The title of the post
    @param thumbnail  - The image to show as a post preview. Uses the site's favicon if not specified.

    @note This partial accepts a thread document from the MongoDB database. The unused parameters are simply ignored.
}}

<div class="votes">
    <a class="button button--light votes__button votes__up">
        <span class="material-symbols-outlined">keyboard_arrow_up</span>
    </a>
    <p class="votes__counter">{{vote_count}}</p>
    <a class="button button--light votes__button votes__down">
        <span class="material-symbols-outlined">keyboard_arrow_down</span>
    </a>
</div>

<a class="thread {{#if clickable}}thread--clickable{{/if}}" {{#if clickable}}href="/threads/{{_id}}"{{/if}}
    {{#if show_options}}
    style="border-radius: 0px" {{! Remove border radius, attach delete/edit buttons instead }}
    {{/if}}
>
    {{#if thumbnail}}
    <img src="{{thumbnail}}" class="thread__image">
    {{else}}
    <img src="/img/favicon.png" class="thread__image">
    {{/if}}
    <div class="thread__data">
        {{> tags this}}
        <h2 class="thread__title">{{title}}</h2>
        <div class="thread__meta">
            <div class="thread__meta">
                <img src="{{author_data.pfp}}" style="height: 20px; border-radius: 20px;"/>
                <p class="thread__detail">Posted by <strong>{{author_data.name}}</strong></p>
            </div>
            <div class="thread__meta">
                <span class="material-symbols-outlined">timer</span>
                <p class="thread__detail">{{format_date created}} {{#if edited}} (edited {{format_date edited}}){{/if}}</p>
            </div>
        </div>
    </div>
    {{#if clickable}}<span class="material-symbols-outlined">keyboard_double_arrow_right</span>{{/if}}
</a>

{{#if show_options}}
<div class="thread__editmenu">
    <button
        class="button button--light" style="flex: 1; border-radius: 0px 10px 0px 0px"
        data-toggle="#editmenu--{{_id}}">
        <span class="material-symbols-outlined">edit</span>
    </button>
    <button
        class="button button--light button--light--bad"
        style="flex: 1; border-radius: 0px 0px 10px 0px">
        <span class="material-symbols-outlined">delete</span>
    </button>
</div>
{{/if}}
